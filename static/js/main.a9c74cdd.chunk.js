(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{22:function(n,e,t){n.exports=t(35)},35:function(n,e,t){"use strict";t.r(e);var r=t(0),a=t.n(r),c=t(14),o=t.n(c),i=t(15),u=t(3),l=t(2);function f(){var n=Object(u.a)(["\nbody {\n  height: 100vh;\n  display: grid;\n}\n#root {\n  height: 100vh;\n  margin: 0;\n  padding: 0;\n  overflow:hidden;\n}\n"]);return f=function(){return n},n}var d=Object(l.createGlobalStyle)(f()),p=t(7),s=t(18),h=t(4),m=t(1),b=t(5),g=t.n(b),v=Object(m.f)("a82f5bd7cf235d2d97cf411fd97a845d"),j=Object(m.f)({units:"metric",lang:"ru"}),O=Object(m.f)("https://api.openweathermap.org/data/2.5/weather?"),x=Object(m.d)({handler:function(n){var e,t;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e="".concat(O.getState(),"APPID=").concat(v.getState(),"&units=").concat(j.getState().units,"&lang=").concat(j.getState().lang,"&q=").concat(n),r.next=3,g.a.awrap(fetch(e));case 3:return t=r.sent,r.abrupt("return",t.json());case 5:case"end":return r.stop()}}))}}),w=Object(m.e)("trigger sample"),y=function(n){n.preventDefault(),w()},E=Object(m.d)({handler:function(n){var e,t;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e="https://api.openweathermap.org/data/2.5/group?id=".concat(n,"&units=metric&appid=a82f5bd7cf235d2d97cf411fd97a845d&lang=ru"),r.next=3,g.a.awrap(fetch(e));case 3:return t=r.sent,r.abrupt("return",t.json());case 5:case"end":return r.stop()}}))}}),k=(Object(m.e)("add city"),Object(m.e)("add input value")),S=Object(m.e)("delete item"),I=Object(m.e)("mount"),z=Object(m.f)(JSON.parse(localStorage.getItem("cityIds"))||[],{name:"cityIds"}).on(x.done,(function(n,e){var t=e.result;return 200!==t.cod||n.find((function(n){return n===t.id}))?n:n=[].concat(Object(h.a)(n),[t.id])})).on(S,(function(n,e){return n.filter((function(n,t){return t!==e}))})),N=Object(m.f)(JSON.parse(localStorage.getItem("cityList"))||[],{name:"cityList"}).on(x.done,(function(n,e){var t=e.result;return(n=Object(h.a)(n)).find((function(n){return n.id===t.id}))?n:(n.push({name:t.name,weather:t.weather,temperature:t.main.temp,cod:t.cod,id:t.id,feels:t.main.feels_like}),n)})).on(E.done,(function(n,e){var t=e.result;n=Object(h.a)(n);var r=!0,a=!1,c=void 0;try{for(var o,i=function(){var e=o.value,t=n.find((function(n){return n.id===e.id}));t&&(n[n.indexOf(t)]=Object(s.a)({},t,{temperature:e.main.temp,feels:e.main.feels_like,weather:e.weather}))},u=t.list[Symbol.iterator]();!(r=(o=u.next()).done);r=!0)i()}catch(l){a=!0,c=l}finally{try{r||null==u.return||u.return()}finally{if(a)throw c}}return n})).on(S,(function(n,e){return n.filter((function(n,t){return t!==e}))})),J=Object(m.f)("").on(k,(function(n,e){return e.currentTarget.value})).reset(x);function C(){var n=Object(u.a)(["\n  width: 18rem;\n  height: 2rem;\n  background-color: lightgray;\n  border-radius: 3px;\n  border: none;\n  color: black;\n  margin: 0 10px;\n  padding-left: 18px;\n  ::placeholder {\n    font-size: 17px;\n    width: 100%;\n    color: black;\n  }\n"]);return C=function(){return n},n}z.updates.watch((function(n){return localStorage.setItem(z.shortName,JSON.stringify(n))})),N.updates.watch((function(n){return localStorage.setItem(N.shortName,JSON.stringify(n))})),Object(m.h)({source:Object(m.j)(N,I),filter:function(n){return n.length<1},target:x.prepend((function(){return"\u041c\u043e\u0441\u043a\u0432\u0430"}))}),Object(m.h)({source:Object(m.j)(z,I),filter:function(n){return n.length>0},target:E}),Object(m.j)({source:J,clock:w,target:x});var T=l.default.input(C());function A(){var n=Object(u.a)(["\n  margin: 0;\n  width: 100%;\n  height: 30%;\n  color: white;\n  font-size: 4rem;\n  text-align: center;\n  @media (max-width: 768px) {\n    width: 80%;\n    position: relative;\n    left: 50%;\n    top: 50%;\n    transform: translate(-50%, -50%);\n    font-size: 2rem;\n  }\n"]);return A=function(){return n},n}var D=l.default.h1(A());function F(){var n=Object(u.a)(["\n  display: grid;\n  margin-left: -15px;\n  grid-gap: 20px;\n  grid-template-columns: 1fr 20px 120px;\n  color: #fff;\n  font-size: 17px;\n  width: 98%;\n"]);return F=function(){return n},n}var L=l.default.li(F());function P(){var n=Object(u.a)(["\n  height: 100%;\n  list-style: none;\n  margin-bottom: 0;\n"]);return P=function(){return n},n}var _=l.default.ul(P());function q(){var n=Object(u.a)(["\n  padding-left: 20px;\n  font-size: 25px;\n  color: #fff;\n"]);return q=function(){return n},n}var B=l.default.label(q());function G(){var n=Object(u.a)([""]);return G=function(){return n},n}var H=l.default.form(G());function K(){var n=Object(u.a)(["\n  position: relative;\n  height: 150px;\n  background: linear-gradient(to right, #2c3e50, #3498db);\n  @media (max-width: 768px) {\n    position: relative;\n    height: 250px;\n  }\n"]);return K=function(){return n},n}var M=l.default.header(K());function Q(){var n=Object(u.a)(["\n  text-align: center;\n  color: #fff;\n  font-size: 36px;\n"]);return Q=function(){return n},n}var R=l.default.div(Q());function U(){var n=Object(u.a)(["\n  border-style: none;\n  outline: none;\n  width: 120px;\n  height: 30px;\n  border-radius: 10px;\n  background-color: green;\n  color: #fff;\n  :hover {\n    opacity: 0.9;\n  }\n  :active {\n    background-color: red;\n  }\n"]);return U=function(){return n},n}var V=l.default.button(U());function W(){var n=Object(u.a)(['\n  display: inline-block;\n  position: absolute;\n  top: 50%;\n  left: 0%;\n  background-color: green;\n  color: #fff;\n  font-size: 16px;\n  width: 280px;\n  height: 20px;\n  text-align: center;\n  border-radius: 5px;\n  ::after {\n    content: " ";\n    display: block;\n    position: absolute;\n    left: 75%;\n    width: 35px;\n    height: 35px;\n    border-radius: 50%;\n    border: 6px solid #fff;\n    border-color: yellow transparent yellow transparent;\n    animation: 1.2s '," linear infinite;\n  }\n  @media (max-width: 768px) {\n    top: 10%;\n    left: 0;\n    width: 100%;\n    background-color: none;\n  }\n"]);return W=function(){return n},n}function X(){var n=Object(u.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }  \n"]);return X=function(){return n},n}var Y=Object(l.keyframes)(X()),Z=l.default.div(W(),Y);function $(){var n=Object(u.a)(["\n  min-height: 100vh;\n  background: linear-gradient(to right, #2c3e50, #4ca1af);\n"]);return $=function(){return n},n}var nn=l.default.section($());function en(){var n=Object(u.a)(["\n  width: 30px;\n  height: 30px;\n"]);return en=function(){return n},n}var tn=l.default.img(en()),rn=function(n){var e=n.submitter,t=n.value,r=n.placeholder,c=n.type,o=n.changer,i=n.label,u=n.buttonText;return a.a.createElement(H,{onSubmit:e},a.a.createElement(B,null,i),a.a.createElement(T,{type:c,value:t,placeholder:r,onChange:o}),a.a.createElement(V,{onClick:e},u))},an=function(){var n=Object(p.c)(z),e=Object(p.c)(J);return a.a.useEffect((function(){I()}),[]),a.a.useEffect((function(){var e=setInterval((function(){E(n)}),6e4);return function(){return clearInterval(e)}}),[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(M,{className:"App-header"},a.a.createElement(D,null,"\u041a\u043b\u0430\u0441\u0441\u043d\u043e\u0435 \u043f\u043e\u0433\u043e\u0434\u043d\u043e\u0435 \u043f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),a.a.createElement(on,{spinner:Z})),a.a.createElement(nn,null,a.a.createElement(rn,{value:e,changer:k,type:"text",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440: \u041d\u0438\u0436\u043d\u0438\u0439 \u041d\u043e\u0432\u0433\u043e\u0440\u043e\u0434",submitter:y,label:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u043e\u0440\u043e\u0434\u0430",buttonText:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0433\u043e\u0440\u043e\u0434"}),Object(p.c)(N).length>0?a.a.createElement(cn,null):a.a.createElement(R,null,"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0433\u043e\u0440\u043e\u0434")))},cn=function(){return Object(p.b)(N,(function(n,e){var t=n.name,r=n.weather,c=n.temperature,o=n.cod,i=n.feels,u=200===o?a.a.createElement(L,null,"\u0412 \u0433\u043e\u0440\u043e\u0434\u0435 ",t," \u0432 \u0434\u0430\u043d\u043d\u044b\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 ",r[0].description,", \u0442\u0435\u043c\u043f\u0435\u0440\u0430\u0442\u0443\u0440\u0430 \u0432\u043e\u0437\u0434\u0443\u0445\u0430 \u0441\u043e\u0441\u0442\u0430\u0432\u043b\u044f\u0435\u0442 ",parseInt(c)," \xb0 \u043f\u043e \u0446\u0435\u043b\u044c\u0441\u0438\u044e, \u0447\u0443\u0432\u0441\u0442\u0432\u0443\u0435\u0442\u0441\u044f \u043a\u0430\u043a ",parseInt(i),"\xb0 \u043f\u043e \u0446\u0435\u043b\u044c\u0441\u0438\u044e",a.a.createElement(tn,{alt:"\u043f\u043e\u0433\u043e\u0434\u043d\u043e\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u0435",src:"http://openweathermap.org/img/w/".concat(r[0].icon,".png")}),a.a.createElement(V,{type:"button",onClick:function(){S(e)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")):null;return a.a.createElement(_,null,u)}))},on=Object(p.a)(x.pending,(function(n,e){return e?a.a.createElement(Z,null,"\u0418\u0434\u0451\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435"):null}));var un=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(i.Normalize,null),a.a.createElement(d,null),a.a.createElement(an,null))};o.a.render(a.a.createElement(un,null),document.getElementById("root"))}},[[22,1,2]]]);
//# sourceMappingURL=main.a9c74cdd.chunk.js.map